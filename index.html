<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>維基百科主題清單</title>
    <!-- Ionic CDN -->
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"
    ></script>
    <script
      nomodule
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"
    />
    <style>
      .item-content {
        width: 100%;
      }
      .item-title {
        font-weight: bold;
        margin: 0.25rem 0;
      }
      .item-subtitle {
        color: var(--ion-color-medium);
        font-size: 0.9em;
      }
      .tag-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }
      .video-container {
        max-width: 100%;
        margin: 0.5rem 0;
      }
    </style>
  </head>
  <body>
    <ion-app>
      <ion-header>
        <ion-toolbar>
          <ion-title>維基百科主題清單</ion-title>
        </ion-toolbar>
        <ion-searchbar placeholder="搜尋..."></ion-searchbar>
        <ion-item>
          <ion-select label="分類" interface="popover">
            <ion-select-option value="">全部</ion-select-option>
            <ion-select-option value="程式入門">程式入門</ion-select-option>
            <ion-select-option value="科學">科學</ion-select-option>
            <ion-select-option value="藝術">藝術</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-header>

      <ion-content>
        <ion-list id="item-list">
          <!-- 清單項目將在這裡動態生成 -->
        </ion-list>
      </ion-content>
    </ion-app>

    <script>
      const items = [
  {
    title: 'Python 基礎入門',
    language: 'Python 3',
    level: '入門',
    details: '從零開始學習 Python 程式設計，包含變數、流程控制、函式等基礎概念。',
    category: '程式入門',
    imageUrl: 'https://s.eslite.com/Upload/Product/201807/o/636680181352320000.jpg',
    videoUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
  },
  {
    title: 'JavaScript 進階技巧',
    language: 'JavaScript',
    level: '進階',
    details: '深入了解 JavaScript 的高級功能，包括閉包、異步編程和 ES6 語法。',
    category: '程式進階',
    imageUrl: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTDLYYcrMAiF1nwpLP0bf9GWVrLeQergHE-AQ&s',
    videoUrl: 'https://www.youtube.com/embed/NHliVGQef-4',
  },
  {
    title: 'HTML5 與 CSS3 實作',
    language: 'HTML/CSS',
    level: '入門',
    details: '學習如何使用 HTML5 和 CSS3 創建現代網頁，包含布局和樣式。',
    category: '網頁設計',
    imageUrl: 'https://www.flag.com.tw/assets/img/category/F0467.jpg',
    videoUrl: 'https://www.youtube.com/embed/fa214Ct6t9w',
  },
  {
    title: 'React 基礎',
    language: 'JavaScript',
    level: '入門',
    details: '掌握 React 的基本概念，學習如何建立可重用的組件。',
    category: '前端框架',
    imageUrl: 'https://miro.medium.com/v2/resize:fit:1400/1*q7nz8SQl6pUI-D-rPZmCzg.jpeg',
    videoUrl: 'https://www.youtube.com/embed/aBTiZfShe-4',
  },
  {
    title: 'Node.js 後端開發',
    language: 'JavaScript',
    level: '進階',
    details: '學習如何使用 Node.js 開發伺服器端應用程式，並處理 API 請求。',
    category: '後端開發',
    imageUrl: 'https://www.ittraining.com.tw/ittraining/images/2017_image/full_stack_developer/fullweb800x430.jpg',
    videoUrl: 'https://www.youtube.com/embed/zHB1dn8FU44',
  },
];

      const itemList = document.getElementById('item-list');

      function renderItems(filteredItems) {
        itemList.innerHTML = '';
        filteredItems.forEach(item => {
          const ionItem = document.createElement('ion-item');
          ionItem.innerHTML = `
            <div class="item-content">
              <div class="item-title">${item.title}</div>
              <div class="item-subtitle">${item.language} - ${item.level}</div>
              <div class="item-details">${item.details}</div>
              <div class="tag-container">
                <ion-chip size="small">${item.category}</ion-chip>
              </div>
              <img src="${item.imageUrl}" alt="${item.title}" style="width:100%; max-width:800px;">
              <div class="video-container">
                <iframe width="100%" height="200" src="${item.videoUrl}" frameborder="0" allowfullscreen></iframe>
              </div>
            </div>
          `;
          itemList.appendChild(ionItem);
        });
      }

      const searchbar = document.querySelector('ion-searchbar');
      const select = document.querySelector('ion-select');

      searchbar.addEventListener('ionInput', (event) => {
        const query = event.target.value.toLowerCase();
        const filteredItems = items.filter(item => 
          item.title.toLowerCase().includes(query) || 
          item.details.toLowerCase().includes(query)
        );
        renderItems(filteredItems);
      });

      select.addEventListener('ionChange', (event) => {
        const category = event.detail.value;
        const filteredItems = category ? items.filter(item => item.category === category) : items;
        renderItems(filteredItems);
      });

      // 初始渲染
      renderItems(items);
    </script>
  </body>
</html>