<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/style.css">
    <title>維基百科主題清單</title>
    <!-- Ionic CDN -->
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"
    ></script>
    <script
      nomodule
      src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"
    />
    <style>
      .item-content {
        width: 100%;
      }
      .item-title {
        font-weight: bold;
        margin: 0.25rem 0;
      }
      .item-subtitle {
        color: var(--ion-color-medium);
        font-size: 0.9em;
      }
      .tag-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: 0.5rem;
      }
      .video-container {
        max-width: 100%;
        margin: 0.5rem 0;
      }
      .clickable-tag {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <ion-app>
      <ion-header>
        <ion-toolbar>
          <ion-title>維基百科主題清單</ion-title>
        </ion-toolbar>
        <ion-searchbar placeholder="搜尋..."></ion-searchbar>
        <ion-item>
          <ion-select id="category-select" label="分類" interface="popover">
            <ion-select-option value="">全部</ion-select-option>
            <ion-select-option value="科學與科技">科學與科技</ion-select-option>
            <ion-select-option value="旅遊與歷史">旅遊與歷史</ion-select-option>
            <ion-select-option value="太空與奇談">太空與奇談</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-header>

      <ion-content>
        <ion-list id="item-list">
          <!-- 清單項目將在這裡動態生成 -->
        </ion-list>
      </ion-content>
    </ion-app>

    <script>
      const items = [
  {
    title: '應用物理學',
    type: '科學',
    HeatLevel: '火熱',
    details: '應用物理學（applied physics）指的是針對實際用途而進行的物理研究。',
    category: '科學與科技',
    tags: ['物理', '科學', '應用'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/3/36/MRI_head_side.jpg',
    videoUrl: 'https://www.youtube.com/embed/qRGRf2nil1I',
  },
  {
    title: '分析化學',
    type: '科學',
    HeatLevel: '熱度中等',
    details: '是開發分析物質成分、結構的方法，使化學成分得以定性和定量，化學結構得以確定。',
    category: '科學與科技',
    tags: ['化學', '科學', '分析'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Gas_Chromatography_Laboratory.jpg/960px-Gas_Chromatography_Laboratory.jpg',
    videoUrl: 'https://www.youtube.com/embed/KCnIbHyMZeg',
  },
  {
    title: '氣象學',
    type: '科學',
    HeatLevel: '火熱',
    details: '把大氣當作研究的客體，從定性和定量兩方面來說明大氣特徵的學科，集中研究大氣的天氣情況和變化規律和對天氣的預報。',
    category: '科學與科技',
    tags: ['氣象', '科學', '天氣'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Global_tropical_cyclone_tracks-edit2.jpg/500px-Global_tropical_cyclone_tracks-edit2.jpg',
    videoUrl: 'https://www.youtube.com/embed/vSIF7uN9vDY',
  },
  {
    title: '海洋學',
    type: '科學',
    HeatLevel: '熱度中等',
    details: '是研究海洋的自然現象、性質及其變化規律，以及開發利用海洋的知識體系。',
    category: '科學與科技',
    tags: ['海洋', '科學', '水文'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Thermohaline_Circulation_2.png/960px-Thermohaline_Circulation_2.png',
    videoUrl: 'https://www.youtube.com/embed/3T_9-kcRb7c',
  },
  {
    title: '天文學',
    type: '科學',
    HeatLevel: '熱度中等',
    details: '是一門研究天體和發生在宇宙中各種現象的自然科學。',
    category: '科學與科技',
    tags: ['天文', '科學', '宇宙'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/Laser_Towards_Milky_Ways_Centre.jpg/960px-Laser_Towards_Milky_Ways_Centre.jpg',
    videoUrl: 'https://www.youtube.com/embed/GNjVYAKL6N4',
  },


  {
    title: '工業機器人',
    type: '科技',
    HeatLevel: '火熱',
    details: '它是面向工業領域的多關節機械手或多自由度的機器人。工業機器人是自動執行工作的機器裝置，是靠自身動力和控制能力來實現各種功能的一種機器。',
    category: '科學與科技',
    tags: ['機器人', '科技', '工業'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/8/8a/Automation_of_foundry_with_robot.jpg',
    videoUrl: 'https://www.youtube.com/embed/DWDiIxJNLFY',
  },
  {
    title: '人工智慧',
    type: '科技',
    HeatLevel: '熱度中等',
    details: '縮寫為AI，指由人製造出來的機器所表現出來的智慧。通常人工智慧是指用普通電腦程式來呈現人類智慧的技術。',
    category: '科學與科技',
    tags: ['人工智慧', '科技', 'AI'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Dall-e_3_%28jan_%2724%29_artificial_intelligence_icon.png/330px-Dall-e_3_%28jan_%2724%29_artificial_intelligence_icon.png',
    videoUrl: 'https://www.youtube.com/embed/UGdG4WpluJ8',
  },
  {
    title: '全球定位系統',
    type: '科技',
    HeatLevel: '火熱',
    details: '通常簡稱GPS。它可以為地球表面絕大部分地區（98%）提供準確的定位、測速和高精度的標準時間。',
    category: '科學與科技',
    tags: ['GPS', '科技', '定位'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Azimutalprojektion-schief_kl-cropped.png/240px-Azimutalprojektion-schief_kl-cropped.png',
    videoUrl: 'https://www.youtube.com/embed/2ogRaLt6cLE',
  },
  {
    title: '人類歷史',
    type: '歷史',
    HeatLevel: '冷冷的',
    details: '即人類產生與發展的歷史。',
    category: '旅遊與歷史',
    tags: ['歷史', '人類', '文化'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/World_map_of_prehistoric_human_migrations.jpg/700px-World_map_of_prehistoric_human_migrations.jpg',
    videoUrl: 'https://www.youtube.com/embed/7qlHqjkBlm8',
  },
  {
    title: '恐龍歷史',
    type: '歷史',
    HeatLevel: '冷冷的',
    details: '歷史上可追溯到最早的恐龍化石明確紀錄是在1677年，至今還不斷地有恐龍化石被發現。',
    category: '旅遊與歷史',
    tags: ['歷史', '恐龍', '化石'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Humped_Megalosaurus.jpg/500px-Humped_Megalosaurus.jpg',
    videoUrl: 'https://www.youtube.com/embed/5wGph2Da9nw',
  },
  {
    title: '馬達加斯加',
    type: '旅遊',
    HeatLevel: '火熱',
    details: '是位於非洲東南部近海的印度洋島嶼國家，領土包括世界第四大島馬達加斯加島及其周邊多個小島。',
    category: '旅遊與歷史',
    tags: ['旅遊', '馬達加斯加', '非洲'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Flag_of_Madagascar.svg/250px-Flag_of_Madagascar.svg.png',
    videoUrl: 'https://www.youtube.com/embed/4xenVWGczto',
  },
  {
    title: '馬爾地夫',
    type: '旅遊',
    HeatLevel: '熱度中等',
    details: '由於海平面上升，馬爾地夫將會有近80%的土地被海水淹沒，50萬全國人口恐將失去家園',
    category: '旅遊與歷史',
    tags: ['旅遊', '馬爾地夫', '海島'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Flag_of_Maldives.svg/250px-Flag_of_Maldives.svg.png',
    videoUrl: 'https://www.youtube.com/embed/kTJbdJLGhNw',
  },
  {
    title: '鴉片戰爭',
    type: '歷史',
    HeatLevel: '熱度中等',
    details: '1840年(道光20)，英國艦隊抵達中國，終於爆發中英間的鴉片戰爭(英國人稱之為商務戰爭)。',
    category: '旅遊與歷史',
    tags: ['歷史', '鴉片戰爭', '中國'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/0/09/Canton_from_the_Heights.jpg',
    videoUrl: 'https://www.youtube.com/embed/SQW0etdwhyY',
  },
  {
    title: '長城',
    type: '旅遊',
    HeatLevel: '熱度中等',
    details: '長城是在中國大陸華北一帶歷朝修築的大規模軍用隔離牆的統稱，在古代曾抵禦不同時期來自塞北的游牧帝國和部落聯盟的侵襲。',
    category: '旅遊與歷史',
    tags: ['旅遊', '長城', '中國'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/The_Great_Wall_of_China_at_Jinshanling-edit.jpg/500px-The_Great_Wall_of_China_at_Jinshanling-edit.jpg',
    videoUrl: 'https://www.youtube.com/embed/DpVgU4WPAz4',
  },
  {
    title: '珠穆朗瑪峰',
    type: '旅遊',
    HeatLevel: '火熱',
    details: '是世界第一高峰，海拔8848.86公尺。',
    category: '旅遊與歷史',
    tags: ['旅遊', '珠穆朗瑪峰', '山峰'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Everest_North_Face_toward_Base_Camp_Tibet_Luca_Galuzzi_2006.jpg/960px-Everest_North_Face_toward_Base_Camp_Tibet_Luca_Galuzzi_2006.jpg',
    videoUrl: 'https://www.youtube.com/embed/3y8F6PVJWyw',
  }, 
  {
    title: '太空競賽',
    type: '太空',
    HeatLevel: '冷冷的',
    details: '是美國和蘇聯這兩個冷戰對手為了爭奪航太實力的最高地位而展開的競賽。',
    category: '太空與奇談',
    tags: ['太空', '太空競賽', '歷史'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Apollo_11_Launch_-_GPN-2000-000630.jpg/330px-Apollo_11_Launch_-_GPN-2000-000630.jpg',
    videoUrl: 'https://www.youtube.com/embed/3ag9EQUIfdo',
  },
  {
    title: '太空移民',
    type: '太空',
    HeatLevel: '火熱',
    details: '是指在地球以外建立永久的人類居住地，以及對太空中的資源取得控制權。',
    category: '太空與奇談',
    tags: ['太空', '太空移民', '未來'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Mooncolony.jpg/960px-Mooncolony.jpg',
    videoUrl: 'https://www.youtube.com/embed/H0nwrpYqLUM',
  },
  {
    title: 'Eduard Albert "Billy" Meier',
    type: '奇談',
    HeatLevel: '冷冷的',
    details: '比利聲稱在1942年與外星人產生第一次接觸，當時他五歲，並在之後一生都保持著持續聯繫。',
    category: '太空與奇談',
    tags: ['奇談', '外星人', 'Billy Meier'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/7/72/Billy_meier.jpg',
    videoUrl: 'https://www.youtube.com/embed/htxl349ZvDU',
  },
  {
    title: '風水',
    type: '奇談',
    HeatLevel: '冷冷的',
    details: '是一種古代中國的傳統習俗和術數，其試圖憑藉墓地、屋宅的所處位置、坐向方位、布置格局，以及和周遭山、水形勢的關係，來改變個人、家族的氣運，並為宅邸、店家招來好運。',
    category: '太空與奇談',
    tags: ['奇談', '風水', '中國文化'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Fengshui_Compass.jpg/500px-Fengshui_Compass.jpg',
    videoUrl: 'https://www.youtube.com/embed/bcwZ3IzK-9c',
  },
  {
    title: '百慕達三角',
    type: '奇談',
    HeatLevel: '火熱',
    details: '百慕達三角屢次發生飛機和船隻的神秘失蹤事件，大眾對這些事件都歸結於百慕達三角的神祕力量。',
    category: '太空與奇談',
    tags: ['奇談', '百慕達三角', '神秘'],
    imageUrl: 'https://upload.wikimedia.org/wikipedia/commons/3/33/Bermuda_Triangle.png',
    videoUrl: 'https://www.youtube.com/embed/vAqytdNoFXs',
  },

  
];

      const itemList = document.getElementById('item-list');
      const categorySelect = document.getElementById('category-select');

      function renderItems(filteredItems) {
        itemList.innerHTML = '';
        filteredItems.forEach(item => {
          const ionItem = document.createElement('ion-item');
          let tagsHTML = '';
          item.tags.forEach(tag => {
            tagsHTML += `<ion-chip size="small" class="clickable-tag" data-category="${item.category}">${tag}</ion-chip>`;
          });

          ionItem.innerHTML = `
            <div class="item-content">
              <div class="item-title">${item.title}</div>
              <div class="item-subtitle">${item.type} - ${item.HeatLevel}</div>
              <div class="item-details">${item.details}</div>
              <div class="tag-container">
                ${tagsHTML}
                <ion-chip size="small" class="clickable-tag" data-category="${item.category}">${item.category}</ion-chip>
              </div>
              <img src="${item.imageUrl}" alt="${item.title}" style="width:50%; max-width:400px;">
              <div class="video-container">
                <iframe width="800" height="600" src="${item.videoUrl}" frameborder="0" allowfullscreen></iframe>
              </div>
            </div>
          `;
          itemList.appendChild(ionItem);
        });

        // Add event listeners to the tags after they are rendered
        const clickableTags = document.querySelectorAll('.clickable-tag');
        clickableTags.forEach(tag => {
          tag.addEventListener('click', (event) => {
            const category = event.target.dataset.category;
            categorySelect.value = category; // Set the select value
            filterItems(category); // Filter the items
          });
        });
      }

      function filterItems(category) {
        const filteredItems = category ? items.filter(item => item.category === category) : items;
        renderItems(filteredItems);
      }

      const searchbar = document.querySelector('ion-searchbar');

      searchbar.addEventListener('ionInput', (event) => {
        const query = event.target.value.toLowerCase();
        const selectedCategory = categorySelect.value; // Get the currently selected category

        const filteredItems = items.filter(item =>
          (item.title.toLowerCase().includes(query) ||
           item.details.toLowerCase().includes(query)) &&
          (selectedCategory === "" || item.category === selectedCategory) // Respect the category filter
        );
        renderItems(filteredItems);
      });

      categorySelect.addEventListener('ionChange', (event) => {
        const category = event.detail.value;
        filterItems(category);
      });

      // Initial render
      renderItems(items);
    </script>
  </body>
</html>